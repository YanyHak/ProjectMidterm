(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[37015],{108679:(e,t,n)=>{var r=n(121296),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=_(n);o&&o!==h&&e(t,o,r)}var a=d(n);u&&(a=a.concat(u(n)));for(var s=l(t),m=l(n),f=0;f<a.length;++f){var b=a[f];if(!(i[b]||r&&r[b]||m&&m[b]||s&&s[b])){var y=p(n,b);try{c(t,b,y)}catch(g){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,_=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function f(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case i:case s:case a:case _:return e;default:switch(e=e&&e.$$typeof){case c:case p:case l:return e;default:return t}}case m:case h:case o:return t}}}function b(e){return f(e)===u}t.typeOf=f,t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=m,t.Memo=h,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=_,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===s||e===a||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return b(e)||f(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return f(e)===c},t.isContextProvider=function(e){return f(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return f(e)===p},t.isFragment=function(e){return f(e)===i},t.isLazy=function(e){return f(e)===m},t.isMemo=function(e){return f(e)===h},t.isPortal=function(e){return f(e)===o},t.isProfiler=function(e){return f(e)===s},t.isStrictMode=function(e){return f(e)===a},t.isSuspense=function(e){return f(e)===_}},121296:(e,t,n)=>{e.exports=n(396103)},869921:(e,t)=>{var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,_=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,g=n?Symbol.for("react.responder"):60118,v=n?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case i:case s:case a:case _:return e;default:switch(e=e&&e.$$typeof){case c:case p:case f:case m:case l:return e;default:return t}}case o:return t}}}function S(e){return x(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=f,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=_,t.isAsyncMode=function(e){return S(e)||x(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===f},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===_},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===s||e===a||e===_||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===g||e.$$typeof===v||e.$$typeof===b)},t.typeOf=x},659864:(e,t,n)=>{e.exports=n(869921)},560053:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,d=e[c];if(0>i(l,n))c<o&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,_=3,h=!1,m=!1,f=!1,b="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,g="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function x(e){if(f=!1,v(e),!m)if(null!==r(c))m=!0,O(S);else{var t=r(d);null!==t&&R(x,t.startTime-e)}}function S(e,n){m=!1,f&&(f=!1,y(I),I=-1),h=!0;var i=_;try{for(v(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!j());){var a=p.callback;if("function"==typeof a){p.callback=null,_=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===r(c)&&o(c),v(n)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&R(x,u.startTime-n),l=!1}return l}finally{p=null,_=i,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var P,w=!1,A=null,I=-1,E=5,C=-1;function j(){return!(t.unstable_now()-C<E)}function T(){if(null!==A){var e=t.unstable_now();C=e;var n=!0;try{n=A(!0,e)}finally{n?P():(w=!1,A=null)}}else w=!1}if("function"==typeof g)P=function(){g(T)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,z=k.port2;k.port1.onmessage=T,P=function(){z.postMessage(null)}}else P=function(){b(T,0)};function O(e){A=e,w||(w=!0,P())}function R(e,n){I=b((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(_){case 1:case 2:case 3:var t=3;break;default:t=_}var n=_;_=t;try{return e()}finally{_=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=_;_=e;try{return t()}finally{_=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(f?(y(I),I=-1):f=!0,R(x,i-a))):(e.sortIndex=s,n(c,e),m||h||(m=!0,O(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=_;return function(){var n=_;_=t;try{return e.apply(this,arguments)}finally{_=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},653250:(e,t,n)=>{var r=n(667294);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,d=r[1];return s((function(){o.value=n,o.getSnapshot=t,c(o)&&d({inst:o})}),[e,n,t]),a((function(){return c(o)&&d({inst:o}),e((function(){c(o)&&d({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},950139:(e,t,n)=>{var r=n(667294),o=n(61688);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var u=s(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var _=a(e,u[0],u[1]);return l((function(){p.hasValue=!0,p.value=_}),[_]),d(_),_}},61688:(e,t,n)=>{e.exports=n(653250)},552798:(e,t,n)=>{e.exports=n(950139)},347556:(e,t,n)=>{n.d(t,{Hn:()=>o,Jw:()=>d,PS:()=>_,U5:()=>c,UT:()=>i,Ws:()=>a,cK:()=>u,cy:()=>l,o4:()=>s,tr:()=>r,vA:()=>p});const r=3,o="has_done_closeup",i=[503459,503761],a="Gender",s="InterestPicker",l="LoadingStep",c="CreatorStep",d="AppInstall",u={NUX_GENDER_STEP_NAME:a,NUX_INTEREST_PICKER_STEP_NAME:s,NUX_LOADING_STEP_NAME:l,NUX_CREATOR_STEP_NAME:c,NUX_APP_INSTALL_STEP_NAME:d},p="mweb_content_first_activation_skippable_tp",_="mweb_cfa_full_modal_opt_in_tp"},568388:(e,t,n)=>{n.d(t,{Z:()=>h,z:()=>c});var r=n(667294),o=n(966338),i=n(391254),a=n(281180),s=n(883119),l=n(785893);const c=2500,d={__style:{right:"-105px"}},u={__style:{animationName:"SavePin_AnimateIn, SavePin_CircleAnimateOut",animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"SavePin_AnimateIn, SavePin_AnimateOut",animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},_={__style:{animationName:"SavePin_NavButtonAnimation",animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},h=(0,r.memo)((({children:e})=>{const t=(0,a.Tt)(),n=(0,o.useSelector)((({pins:e})=>{const n=null==t?void 0:t.last_repin_id;return n?e[n]:null})),r=(0,o.useSelector)((({session:e})=>e.isShowingRepinAnimation));if(!n||!r)return e;const{images:c}=n,{height:h,width:m,url:f}=(null==c?void 0:c["136x136"])||(null==c?void 0:c["236x"])||{};return(0,l.jsxs)(s.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(i.Z,{unsafeCSS:"\n@keyframes SavePin_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes SavePin_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes SavePin_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes SavePin_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n"}),(0,l.jsxs)(s.xu,{position:"relative",children:[(0,l.jsxs)(s.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:d,children:[(0,l.jsx)(s.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:u}),(0,l.jsx)(s.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,l.jsx)(s.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,l.jsx)(s.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=m?m:1,naturalHeight:null!=h?h:1,src:null!=f?f:""})})})]}),(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:_,children:e})]})]})}))},569046:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(966338),o=n(568388),i=n(708206),a=n(185894),s=n(343341),l=n(785893);const c=(0,i.compose)((0,r.connect)(null,(function(e){return{hideRepinAnimation:()=>e((0,a.a5)()),showRepinAnimation:()=>e((0,a.WF)())}})),(function(e){return t=>{const{hideRepinAnimation:n,showRepinAnimation:r}=t,{showToast:i,showOneToast:a}=(0,s.F9)();return(0,l.jsx)(e,{...t,showToast:i,showOneToast:a,showRepinConfirmation:(e,t)=>{t||r(),setTimeout((()=>{t||n(),i(e)}),o.z)}})}}))},777918:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(966338),o=n(941646),i=n(898781),a=n(969230),s=n(867820),l=n(266725),c=n(883119),d=n(925927),u=n(785893);function p({alignIconLeft:e,bgColor:t,color:n,disableRedirect:p=!1,fallbackUrl:_,icon:h="arrow-back",onTouch:m,padding:f,placement:b,shouldUseFallbackUrl:y,size:g="lg",viewParameter:v,viewType:x}){const S=(0,i.ZP)(),P=(0,d.k6)(),w=(0,d.TH)(),A=(0,r.useSelector)((e=>e.session.isAuthenticated)),I=()=>{(0,a.y3)({action:"back_button_click",placement:b,isAuthenticated:A}),(0,s.LW)({action:"click",pageLocation:w,item:"back-button"}),x&&v&&(0,l.So)({view_type:x,view_parameter:v,element:34}),m&&m(),p||((!w.key||w.state&&"redirect"===w.state.referrer||y)&&_?P.push(_):w.pathname.includes("/password/reset/")&&w.search&&w.search.includes("?nativeShouldDismiss=true")?P.push("/login/?dismissWebview=true"):P.goBack())};return(0,u.jsx)(o.Z,{id:"back-button",children:e?(0,u.jsx)(c.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===h?-1:-2,children:(0,u.jsx)(c.hU,{accessibilityLabel:S._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n,icon:h,onClick:I,padding:"auto"!==f?f:2,size:g})}):(0,u.jsx)(c.hU,{accessibilityLabel:S._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n,icon:h,onClick:I,padding:"auto"!==f?f:2,size:g})})}},877867:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(499128),o=n(162158),i=n(789363),a=n(358589),s=n(785893);const l=({boardId:e,boardSectionId:t,clientTrackingParams:n,dispatch:l,i18n:c,newPinId:d,onError:u,onSuccess:p,originalPinId:_,shouldRefresh:h=!1,showToast:m,sourcePinId:f})=>l((0,a.q$)({pinId:d,boardId:e,boardSectionId:t,clientTrackingParams:n})).then((()=>{_&&l((0,a.t_)(_,e,t)),l((0,a.t_)(f,e,t)),h&&(t&&l((0,i.A4)(t)),e&&l((0,o.u)(e))),m((({hideToast:e})=>(0,s.jsx)(r.ZP,{text:c._('Pin deleted!', 'Utils.Unsave.Success', 'User deleted their pin'),onHide:e}))),p&&p()})).catch((()=>{m((({hideToast:e})=>(0,s.jsx)(r.ZP,{variant:"error",text:c._('Sorry! There was an error deleting your Pin.', 'Utils.Unsave.Error', 'Error when user tried to delete pin'),onHide:e}))),null==u||u()}))},778193:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(966338),o=n(925927),i=n(785893);function a(e){return(0,r.useSelector)((({session:e})=>e.isAuthenticated))?null:(0,i.jsx)(o.l_,{to:e})}},789363:(e,t,n)=>{n.d(t,{A4:()=>p,ET:()=>m,Nv:()=>u,PA:()=>c,X_:()=>h,ic:()=>_,o4:()=>d});var r=n(6637),o=n(47495),i=n(414327),a=n(782677),s=n(983360);const l=(e,t)=>({type:s.nk,payload:t}),c=(e,t)=>n=>r.ZP.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then((e=>(n(l(0,t)),e.resource_response.data))),d=(e,t,n,o)=>i=>{const a=r.ZP.create("BoardSectionEditResource",{section_id:t}).callDelete();return i(((e,t,n,r)=>({type:s.Yn,payload:{userId:e,boardSectionId:t,boardId:n,pinCount:r}}))(e,t,n,o)),a},u=(e,t,n)=>l=>{const c={board_id:e,initial_pins:t,name:n},d="BoardSectionResource";return r.ZP.create(d,c).callCreate().then((n=>{const r=n.resource_response.data,u=(0,a.Fv)(r,o.Z[d]);return l((0,i.XM)(d,c,n,u)),t.length&&l({type:s.u2,payload:{source:{boardId:e},target:{boardId:e,sectionId:r.id},pinIds:t}}),n}))},p=e=>t=>{const n={section_id:e},i="BoardSectionResource";return r.ZP.create(i,n).callGet().then((n=>{const r=(0,a.Fv)(n.resource_response.data,o.Z[i]).entities.boardsections[e];return t(l(0,r)),n}))},_=e=>t=>{const{source:n,target:l,pinIds:c}=e;if(t({type:s.u2,payload:e}),n.boardlessPins||l.boardId!==n.boardId){const e={board_id:l.boardId,pin_ids:c,section_id:l.sectionId},t="BulkEditResource";return r.ZP.create(t,e).callUpdate()}if(l.sectionId){const e={section_id:l.sectionId,pins:c},n="BoardSectionEditResource";return r.ZP.create(n,e).callUpdate().then((r=>{const s=(0,a.Fv)(r.resource_response.data,o.Z[n]);return t((0,i.XM)(n,e,r,s)),r}))}const d={section_id:n.sectionId,pins:c};return r.ZP.create("BoardSectionPinsResource",d).callDelete()},h=e=>t=>{t({type:s.Fl,payload:e});const{source:n,target:o,excludePinIds:i}=e,a={board_id:n.boardId,new_board_id:o.boardId,pin_ids:i,old_section_id:n.sectionId,new_section_id:o.sectionId};return r.ZP.create("BulkEditSelectAllResource",a).callUpdate()},m=(e,t,n,r)=>o=>o(u(e,[],t)).then((t=>{const i=t.resource_response.data.id;return o(h({source:{boardId:e,sectionId:r},target:{boardId:e,sectionId:i},excludePinIds:n}))}))},185894:(e,t,n)=>{n.d(t,{Cp:()=>p,FK:()=>u,H5:()=>T,MI:()=>S,Mj:()=>C,O0:()=>g,QZ:()=>d,W:()=>I,WF:()=>f,Wz:()=>k,YV:()=>m,a5:()=>b,dz:()=>w,e0:()=>y,e2:()=>c,eA:()=>A,gH:()=>x,iW:()=>E,n1:()=>l,rm:()=>h,wY:()=>v,wb:()=>j,xu:()=>P});var r=n(172071),o=n(360903),i=n(983360),a=n(53987),s=n(408285);const l=()=>({type:i.Wn}),c=()=>({type:i.lj}),d=e=>({type:i.j_,payload:{unauthSavePinId:e}}),u=()=>({type:i.JG}),p=()=>({type:i.pV}),_=e=>({type:i.BM,payload:e}),h=e=>({type:i.a9,payload:{from:e}}),m=()=>e=>{e(_({preparingNewVersion:!0})),(0,s.Ng)().catch((()=>(r.Z.increment("mweb_service_worker.prepareNewVersion.error",1),(0,s.Dm)()))).finally((()=>{r.Z.increment("mweb.new_version.refresh",1),e(_({newVersionAvailable:!0,preparingNewVersion:!1}))})),(0,o.Qi)()},f=()=>({type:i.cs}),b=()=>({type:i.tg}),y=e=>({type:i.$t,payload:{steps:e}}),g=()=>({type:i.LB}),v=e=>({type:i.pl,payload:e}),x=e=>({type:i.aj,payload:e}),S=e=>({type:i.HQ,payload:e}),P=e=>({type:i.vH,payload:{viewedImageSignature:e}}),w=e=>({type:i.le,payload:{pins:e}}),A=()=>({type:i.ib}),I=()=>({type:i.L6}),E=e=>e?{type:i.Pz,payload:e}:{type:i.OO},C=(e,t,n)=>r=>r(((e,t,n)=>({type:i.AO,payload:{isShareMenuOpen:e,objectType:t,objectId:n}}))(e,t,n)),j=()=>({type:i.dO}),T=e=>({type:i.UD,payload:e}),k=(e,t)=>{let n;return n=e?(0,a.bo)(e)?"today":t&&(0,a.dZ)(e,t)?"own_section":t&&(0,a.J)(e,t)?"own_board":(0,a.OJ)(e)?"section":(0,a.am)(e)?"board":(0,a.L6)(e)?"closeup":(0,a.C$)(e)?"home":(0,a.cD)(e)?"profile":(0,a.En)(e)?"search":(0,a.$V)(e)?"topic":"":"",{type:i.il,payload:n}}},176786:(e,t,n)=>{n.d(t,{Io:()=>z,ZP:()=>F});var r=n(667294),o=n(966338),i=n(52395),a=n(777918),s=n(794987),l=n(622359),c=n(609943),d=n(542554),u=n(499128),p=n(877867),_=n(223123),h=n(411465),m=n(778193),f=n(569046),b=n(313047),y=n(862501),g=n(349700),v=n(643010),x=n(347556),S=n(266725),P=n(898781),w=n(728214),A=n(925927),I=n(358589),E=n(883119),C=n(332611),j=n(708206),T=n(785893);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const z=(e,t,n)=>{const r=n._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found');return{text:t?(0,g.nk)(n._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:t}).join(" "):r,href:e}},O=e=>({color:e?"#fff":"#333",fontSize:21,fontWeight:"bold",background:"none",outline:"none",border:"none",marginTop:"4px",width:"100%"});class R extends r.PureComponent{constructor(...e){var t;super(...e),t=this,k(this,"state",{boardName:this.props.match.params.boardName||"",canSubmit:!!this.props.match.params.boardName,errorBoardNames:[],secret:!1,submitting:!1}),k(this,"handleRepinSuccess",(()=>this.props.history.go(-2))),k(this,"onSwitchToggle",(()=>{this.setState((({secret:e})=>({secret:!e})))})),k(this,"onInputChange",(e=>{const t=e.target.value,n=t.trim().length;this.setState((({errorBoardNames:e})=>({boardName:t,canSubmit:n>0&&n<=100&&!e.includes(t)})))})),k(this,"onCreateClick",this.props.requireAuthForLimitedLogin({fn:()=>{const{boardName:e,secret:n,submitting:o}=this.state,{createPin:i,createBoard:a,dispatchUnsavePin:d,history:p,i18n:_,location:h,match:m,pin:f,repinToBoard:b,showRepinConfirmation:g,showToast:v,undoSaveAction:x}=this.props;if(o)return;const P=n?"secret":"public",w=m.params.pinId,A=h.state?h.state.pinnedToBoardId:"",I=this.props.i18n._('Created Board!', 'Text in toast after creating a new board', 'Text in toast after creating a new board');if(w){const n=(0,c.Z)((h.state||{}).trackingParams,null==f?void 0:f.tracking_params);this.setState({submitting:!0}),a({name:e,pin:f,privacy:P}).then((async function(r){var o;const i=null!==(o=r.url)&&void 0!==o?o:"";t.setState({submitting:!1}),(0,S.j)({event_type:20,view_type:3,object_id_str:w});const a=r.id,s=h.state&&h.state.pinDescription?h.state.pinDescription:"",{isFirstBoardCreateActive:c,isEditingPin:m,pinBoardId:P,pinSectionId:I}=h.state||{},{href:E,text:C}=z(i,e,_),{duration:j,text:k,thumbnail:O}=(0,y.qV)({boardId:a,isFBC:c}),R=()=>g((({hideToast:e})=>(0,T.jsx)(l.Z,{duration:j,href:E,onHide:e,text:k||C,thumbnail:O})));var F;(s?b({i18n:t.props.i18n,pinId:w,boardId:a,onSuccess:()=>{t.completeFirstExperiences()},onUndo:(e,t,r,o,i)=>x({pinId:e,newPinId:t,boardId:r,boardSectionId:o,i18n:i,clientTrackingParams:n}),showRepinConfirmation:e=>v(e),trackingParams:{clientTrackingParams:n,pinnedToBoardId:A}}).catch((e=>{v((({hideToast:n})=>(0,T.jsx)(u.ZP,{variant:"error",text:e.message||t.props.i18n._('Sorry! Something went wrong on our end.', 'error completing repin', 'error completing repin'),onHide:n})))})):(t.completeFirstExperiences(R),(0,S.j)({event_type:5,view_type:3,component:7,object_id_str:w,clientTrackingParams:n,aux_data:{board_id:A,destination_board_id:a}})),m&&f)&&(await d({pinId:f.id,pinBoardId:P,pinSectionId:I,clientTrackingParams:n}),null!==(F=f.pinned_to_board)&&void 0!==F&&F.url&&p.replace(f.pinned_to_board.url))}),(t=>{v((({hideToast:e})=>(0,T.jsx)(u.ZP,{text:t.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),variant:"error",onHide:e}))),this.setState((({errorBoardNames:t})=>({errorBoardNames:t.concat(e),canSubmit:!1,submitting:!1})))}))}else this.setState({submitting:!0}),a({name:e,pin:f,privacy:P}).then((e=>{const t=this.props.location.state;if(!t||0===Object.keys(t).length){this.setState({submitting:!1});const{duration:t,text:n,thumbnail:r}=(0,y.qV)({boardId:e.id});return v((({hideToast:e})=>(0,T.jsx)(l.Z,{duration:t,onHide:e,text:n||I,thumbnail:r}))),void(e.url&&p.replace(e.url))}const{description:n,guid:o,method:a,url:c}=t,d=[];if("scraped"===t.method)t.imgData.forEach((t=>d.push(i({link:c,image_url:t,description:n,board_id:e.id,method:a,guid:o}))));else{const{base64Image:r,imageUrl:s}=t;d.push(i({link:c,image_url:s,image_base64:r,description:n,board_id:e.id,method:a,guid:o}))}Promise.all(d).then((t=>{v((({hideToast:e})=>(0,T.jsx)(u.ZP,{text:I,onHide:e}))),v((({hideToast:t})=>(0,T.jsx)(u.ZP,{text:(0,T.jsxs)(r.Fragment,{children:[(0,T.jsx)(E.xv,{children:this.props.i18n._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,T.jsx)(E.xv,{weight:"bold",children:e.name})]}),iconThumbnail:(0,T.jsx)(E.xu,{width:54,height:54,children:(0,T.jsx)(s.Z,{boardId:e.id,type:"thumbnail"})}),onHide:t}))),(0,S.j)({event_type:1,view_type:92,component:7,object_id_str:t[0].resource_response.data.id}),this.setState({submitting:!1}),e.url&&p.replace(e.url)}),(()=>{v((({hideToast:e})=>(0,T.jsx)(u.ZP,{text:this.props.i18n._('Sorry! Something went wrong on our end.', 'error during pin creation', 'error during pin creation'),onHide:e}))),this.setState({submitting:!1})}))}),(e=>{this.setState({submitting:!1}),v((({hideToast:t})=>(0,T.jsx)(u.ZP,{text:e.message_detail||e.message||this.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),variant:"error",onHide:t})))}))}})),k(this,"completeFirstExperiences",(e=>{const{closeupExperience:t,repinExperience:n,completeExperience:r}=this.props;if(t||n){const o=[];t&&t.placement_id&&x.UT.includes(t.experience_id)&&o.push(r(t.placement_id,t.experience_id)),n&&n.placement_id&&501032===n.experience_id&&o.push(r(n.placement_id,n.experience_id)),o.length>0&&Promise.all(o).then((()=>{this.handleRepinSuccess(),e&&e()}))}else this.handleRepinSuccess(),e&&e()}))}componentDidMount(){const{repinExperience:e,viewExperience:t}=this.props;e&&t(e.placement_id,e.experience_id)}render(){const{i18n:e}=this.props;return(0,T.jsxs)(d.default,{hasFixedHeader:!0,children:[(0,T.jsx)(i.Z,{text:e._('Create a Board', 'duplo.createboardpage.accessibilityModalLabel', 'Accessibility label for the create board page')}),(0,T.jsx)(b.FixedHeader,{children:(0,T.jsxs)(E.kC,{alignItems:"center",justifyContent:"start",children:[(0,T.jsx)(E.xu,{flex:"none",marginStart:-2,children:(0,T.jsx)(a.Z,{})}),(0,T.jsx)(E.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:(0,T.jsx)(E.xv,{align:"center",weight:"bold",children:this.props.i18n._('Create board', 'Label during board creation', 'Label during board creation')})}),(0,T.jsx)(E.kC,{alignItems:"stretch",flex:"none",justifyContent:"end",children:(0,T.jsx)(E.xu,{"data-test-id":"createBoardButton",children:(0,T.jsx)(E.zx,{fullWidth:!0,onClick:this.onCreateClick,color:"red",size:"sm",text:this.props.i18n._('Create', 'Create board button', 'Create board button'),disabled:!this.state.canSubmit||this.state.submitting})})})]})}),(0,T.jsx)(E.iz,{}),(0,T.jsxs)(E.xu,{paddingY:3,paddingX:4,children:[(0,T.jsx)(E.__,{htmlFor:"boardNameInput",children:(0,T.jsx)(E.xv,{size:"200",children:this.props.i18n._('Board name', 'Label during board creation', 'Label during board creation')})}),(0,T.jsx)("input",{id:"boardNameInput",placeholder:e._('Add', ' - ', ' -- '),value:this.state.boardName,style:O((0,v.Yc)()),onChange:this.onInputChange})]}),(0,T.jsx)(E.iz,{}),(0,T.jsxs)(E.xu,{display:"flex",justifyContent:"between",paddingY:3,paddingX:4,children:[(0,T.jsx)(E.__,{htmlFor:"secretToggle",children:(0,T.jsx)(E.xv,{children:this.props.i18n._('Keep board secret', 'Toggle during board creation', 'Toggle during board creation')})}),(0,T.jsx)(E.rs,{id:"secretToggle",switched:this.state.secret,onChange:this.onSwitchToggle})]})]})}}const F=(0,j.compose)(f.Z,(0,o.connect)((({experiences:e})=>({closeupExperience:e[1000112],repinExperience:e[1000153]})),((e,{showToast:t})=>({completeExperience:(t,n)=>e((0,C.CK)(t,n)),viewExperience:(t,n)=>e((0,C.UT)(t,n)),createPin:t=>e((0,I.iX)(t)),undoSaveAction:({boardId:n,boardSectionId:r,clientTrackingParams:o,i18n:i,newPinId:a,pinId:s})=>(0,p.Z)({dispatch:e,i18n:i,showToast:t,newPinId:a,sourcePinId:s,boardId:n,boardSectionId:r,clientTrackingParams:o}),repinToBoard:({i18n:t,pinId:n,boardId:r,onSuccess:o,onUndo:i,showRepinConfirmation:a,showToast:s,section:l,trackingParams:c})=>e((0,I.wh)({i18n:t,pinId:n,boardId:r,onSuccess:o,onUndo:i,showRepinConfirmation:a,showToast:s,section:l,trackingParams:c})),dispatchUnsavePin:({pinId:t,pinBoardId:n,pinSectionId:r,clientTrackingParams:o})=>e((0,I.q$)({pinId:t,boardId:n||"",boardSectionId:r,clientTrackingParams:o}))}))))((function(e){const t=(0,A.k6)(),n=(0,A.TH)(),r=(0,A.$B)(),o=(0,_.Z)(),i=(0,h.Z)(),a=(0,P.ZP)(),s=(0,w.Z)(),l=(0,m.Z)("/");return r.params.pinId&&i?(0,T.jsx)(A.l_,{to:"/"}):l||(0,T.jsx)(R,{...e,history:t,location:n,match:r,createBoard:({name:e,pin:t,privacy:i})=>{const a=r.params.pinId,s=n.state&&n.state.pinDescription?n.state.pinDescription:"";if(a&&!s){const r=(0,c.Z)((n.state||{}).trackingParams,null==t?void 0:t.tracking_params);return o({boardCreateOptions:{name:e,privacy:i,initial_pins:[a],initial_pin_client_tracking_params:[r]}})}return o({boardCreateOptions:{name:e,privacy:i}})},i18n:a,requireAuthForLimitedLogin:s})}))},407043:(e,t,n)=>{n.d(t,{B:()=>l,v:()=>s});var r=n(385740),o=n(425288),i=n(785893);const{Provider:a,useHook:s}=(0,o.Z)("ContextLogger");function l({children:e,value:t}){const{setViewContextData:n}=(0,r.sV)();return t.injectSetViewContextDataFromHook=n,(0,i.jsx)(a,{value:t,children:e})}},112690:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(407043);const o=()=>(0,r.v)().logContextEvent},202139:(e,t,n)=>{n.d(t,{DH:()=>r,F4:()=>a,FS:()=>o,N1:()=>d,N9:()=>l,UK:()=>i,VL:()=>s,v6:()=>c});const r=1e3,o=60*r,i=60*o,a=24*i,s=7*a,l=30*a,c=31*a,d=365*a},766935:(e,t,n)=>{function r(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>e(...r)),t)}}n.d(t,{Z:()=>r})},332611:(e,t,n)=>{n.d(t,{CK:()=>p,N:()=>b,Qu:()=>_,UT:()=>u,YX:()=>f,d9:()=>h,fO:()=>l,kd:()=>m,pz:()=>c});var r=n(6637),o=n(764990),i=n(172071),a=n(957191);let s;const l=(e,t)=>n=>{const o=t?{extra_context:e,targeting:t}:{extra_context:e};return r.ZP.create("UserExperiencePlatformResource",o).callGet().then((e=>e.resource_response?n((0,a.OD)(e.resource_response.data)):void 0))},c=(e,t,n,i)=>(l,c)=>{if(t)return Promise.resolve();if(i&&(s=i),1===e.length){const t=e[0],r=c().experiences[t],i=(null==r?void 0:r.extraContext)||null;if(JSON.stringify(i)===JSON.stringify(n)||(0,o.E3)(r)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return r.ZP.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:i}).callGet().then((e=>e.resource_response?l((0,a.cL)(e.resource_response.data)):void 0))},d=(e,t)=>(n,o,i,c=!1,d,u)=>(p,_)=>{const{experiences:h,experiencesMulti:m}=_();let f=null,b=!0;var y;c||(b=h[n]&&h[n].experience_id===o,f=b?h[n]:Array.isArray(m[n])&&(null===(y=m[n])||void 0===y?void 0:y.find((e=>e.experience_id===o))));if(f&&f.experience_id===o||c&&n&&o){const c=r.ZP.create(e,{placed_experience_id:`${n}%3A${o}`,extra_context:null!=d?d:{},targeting:u}),_=b?a.Yb:a.xW;switch(t){case"dismissed":return c.callDelete().then((()=>{p(_(n,o,t)),p(l(void 0,s))}));case"completed":return c.callUpdate().then((()=>{i||(p(_(n,o,t)),p(l(void 0,s)))}));case"viewed":return p(_(n,o,t)),c.callUpdate().then((()=>{1000162===n&&p(l())}));case"completedWithoutHomefeed":return c.callUpdate().then((()=>{i||p(_(n,o,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=d("UserExperienceViewedResource","viewed"),p=d("UserExperienceCompletedResource","completed"),_=d("UserExperienceResource","dismissed"),h=d("UserExperienceCompletedResource","completedWithoutHomefeed"),m=(e,t)=>(n,o)=>{const{experiences:a}=o(),s=a[e];s&&s.triggerable_placed_exps&&s.triggerable_placed_exps.length&&s.triggerable_placed_exps.forEach((n=>{const[,o]=n.split(":");let a=t;s.metadata&&s.metadata[o]&&(a=Object.assign({},t,s.metadata[o])),r.ZP.create("UserExperienceTriggerResource",{placed_experience_id:n.replace(":","%3A"),extra_context:a}).callUpdate().then((()=>{((e,t,n={})=>{i.Z.increment(`${e}.${t}`,1,n)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:o})}))}))},f=e=>(t,n)=>{t(m(e));const{experiences:r}=n();return r[e]},b=(e,t,n)=>r=>{n&&(s=n),r(m(e,t)),t&&Object.keys(t).length>0&&r(c([e],!1,t,n))}},764990:(e,t,n)=>{function r(e){return!!e&&0!==e.type}n.d(t,{A0:()=>i,E3:()=>r,MQ:()=>o});const o=(e,t,n)=>{const o=e[n];return t[n]&&r(o)?o:null};function i(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},207737:(e,t,n)=>{n.d(t,{$S:()=>r,V$:()=>o,_4:()=>a,iY:()=>s,mR:()=>i});const r="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",s="UPDATE_EXPERIENCE"},957191:(e,t,n)=>{n.d(t,{NW:()=>a,OD:()=>l,Yb:()=>s,cL:()=>c,xW:()=>i});var r=n(6637),o=n(207737);const i=(e,t,n)=>({type:o.V$,payload:{placementId:e,experienceId:t,status:n}}),a=e=>t=>r.ZP.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:n}})):void 0;var n})),s=(e,t,n)=>({type:o.iY,payload:{placementId:e,experienceId:t,status:n}}),l=e=>({type:o._4,payload:{experiences:e}}),c=e=>({type:o.mR,payload:{experiences:e}})},298361:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(898781),o=n(349700),i=n(202139);function a(){const e=(0,r.ZP)();return function(t,n){const r=new Date(t),a=new Date-r,s=Math.floor(a/i.FS),l=Math.floor(a/i.UK),c=Math.floor(a/i.F4),d=Math.floor(a/i.VL),u=Math.floor(a/i.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', s, ' - ', ' -- '),_=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),h=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),m=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),f=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),b=e.ngettext('{{ minutes }}m', '{{ minutes }}m', s, 'minutes ago abbreviated', 'minutes ago abbreviated'),y=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),g=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),v=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),x=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,o.nk)(n?x:f,{years:u}).join(""):d>0?(0,o.nk)(n?v:m,{weeks:d}).join(""):c>0?(0,o.nk)(n?g:h,{days:c}).join(""):l>0?(0,o.nk)(n?y:_,{hours:l}).join(""):s>0?(0,o.nk)(n?b:p,{minutes:s}).join(""):e._('Just now', ' - ', ' -- ')}}},892819:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(66699),o=n(898781);const i=(e,t)=>{const n=t||0,r=10**n,o=+(n?e*r:e).toFixed(8),i=Math.floor(o),a=o-i,s=a>.5-1e-8&&a<.5+1e-8?i%2==0?i:i+1:Math.round(o);return n?s/r:s},a=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(){const e=(0,o.ZP)();return(t,n,o)=>{let s=0,l=0;const c=o&&o.style||void 0,d=o&&o.shortform||!1,u=o&&o.uplimit||void 0,p=o&&o.currency||void 0,_=!!u&&n>=u,h=u&&_?u:n;if("currency"===c){const{minimumFractionDigits:e,maximumFractionDigits:n}=((e,t)=>{if(t){const{minimumFractionDigits:n,maximumFractionDigits:r}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==r)return{minimumFractionDigits:n,maximumFractionDigits:r}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,p);s=void 0===o||void 0===o.maximum_fraction_digits?n:o.maximum_fraction_digits,l=void 0===o||void 0===o.minimum_fraction_digits?e:o.minimum_fraction_digits}else s=void 0===o||void 0===o.maximum_fraction_digits?0:o.maximum_fraction_digits,l=void 0===o||void 0===o.minimum_fraction_digits?0:o.minimum_fraction_digits;if(d&&h>999&&(s=void 0===o||void 0===o.shortform_maximum_fraction_digits?2:o.shortform_maximum_fraction_digits,l=0),s<l)return String(h);let m=h,f="";const b=[{"100M":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],y=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],g=/^zh|ja|ko/.test(t);if(d&&h>999){const e=g?b:y;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],r=e[t][n].value;if(h>=r){m=i(h/r*Math.pow(10,s))/Math.pow(10,s),f=e[t][n].localeKey;break}}}if(null==m)return"";const v=m.toLocaleString([a(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:r})=>{const o={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...o,style:n,..."currency"===n?{currency:r,currencyDisplay:"symbol"}:{}}:o})({maximumFractionDigits:s,minimumFractionDigits:l,currency:p,style:c}));return f&&f.length>0?(0,r.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:v,numberSuffix:f})+(_?"+":""):v+(_?"+":"")}}},313047:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>c,DEFAULT_PADDING_Y:()=>d,FixedFooter:()=>_,FixedHeader:()=>p});var r=n(667294),o=n(124580),i=n(643010),a=n(834256),s=n(883119),l=n(785893);const c=64,d=3;function u({children:e,footerConfig:t,headerConfig:n,height:a,hideOnScroll:u,hideOnScrollState:{isHidden:p,updateHiddenState:_},noPadding:h,paddingY:m=d,type:f,zIndex:b}){const{headerLimitedOverflow:y,ignoreObstructions:g,zIndexForGestaltBug:v}=n||{},{appUpsellFooterConfig:x,footerInLego:S,footerWidth:P}=t||{},w=!!x,A="header"===f?"top":"bottom",I=(0,r.useRef)(null),E=(0,r.useRef)(null);(0,r.useEffect)((()=>{try{if(!g){const e=I.current;E.current=y&&e&&Array.isArray(e.children)?e.children[0]:e,E.current instanceof HTMLElement&&o.Z.addObstruction(A,E.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{g||E.current instanceof HTMLElement&&o.Z.removeObstruction(A,E.current)}}),[g,y,A]);const C="top"===A?"relative":"fixed",j=h?0:m,T=(null!=a?a:c)+((null==n?void 0:n.overrideTop)||0),k=u?{transition:S?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...p?{transform:`translateY(${"top"===A?-T:T}px)`,opacity:S?0:1}:Object.freeze({})}:{},z="relative"!==C||null!=n&&n.noGutter?0:2,O=z?-z:0;let R,F;return(0,i.Yc)()&&("header"===f?R=-1:F=-1),(0,l.jsx)(s.xu,{ref:I,dangerouslySetInlineStyle:{__style:{top:R,bottomStyle:F,...!b||v?{zIndex:v||1}:Object.freeze({}),...y?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...k}},zIndex:v?void 0:b,"data-test-id":f,display:w?"flex":void 0,height:a&&!S?a:void 0,position:C,bottom:"footer"===f,top:"header"===f,left:!0,right:!0,marginStart:S?"auto":O,marginEnd:S?"auto":O,onTransitionEnd:()=>{u&&E.current&&(p?o.Z.removeObstruction(A,E.current):o.Z.addObstruction(A,E.current))},width:S||"fixed"!==C?void 0:"100%",children:(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:((0,i.Yc)()?"#000":(null==n?void 0:n.isTranslucent)&&"rgba(255,255,255,.95)")||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"white",height:S?w?void 0:null!=a?a:c:"100%",boxShadow:S?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:S?16:void 0,...y?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==f||h?0:4)+z,paddingY:j,position:"relative",width:S&&P?P:w?void 0:"100%",rounding:S?"pill":void 0,display:S||null!=t&&t.alignCenter?"flex":void 0,marginStart:S?"auto":void 0,marginEnd:S?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:_}):e})})}function p({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:r,isTransparentBackground:o,noGutter:i,overrideTop:c,useRoundedCorners:p,zIndexForGestaltBug:_,...h}){const{noPadding:m,paddingY:f=d,zIndex:b}=h,y=m?0:f;return(0,l.jsx)(s.Le,{top:c||0,height:t?44+2*y*4:void 0,zIndex:b||void 0,children:(0,l.jsx)(a.Z,{hideOnScroll:h.hideOnScroll,children:a=>(0,l.jsx)(u,{...h,hideOnScrollState:a,type:"header",headerConfig:{isTranslucent:r,isTransparentBackground:o,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:i,overrideTop:c,zIndexForGestaltBug:_,useRoundedCorners:p}})})})}function _({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:r,hasTopShadow:o,isModal:i,onScroll:s,...c}){return(0,l.jsx)(a.Z,{appUpsellFooterConfig:t,hideOnScroll:c.hideOnScroll,isModal:i,onScroll:s,children:i=>(0,l.jsx)(u,{...c,hideOnScrollState:i,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,footerWidth:r,hasTopShadow:o}})})}},834256:(e,t,n)=>{n.d(t,{Z:()=>s,m:()=>a});var r=n(667294),o=n(700380);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=20;class s extends r.Component{constructor(...e){super(...e),i(this,"state",{isHidden:!!this.props.appUpsellFooterConfig}),i(this,"lastScrollPos",0),i(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),i(this,"handleScroll",(0,o.Z)((()=>{const{appUpsellFooterConfig:e,isModal:t,onScroll:n}=this.props,{isHidden:r}=this.state,o=window.scrollY,i=o-this.lastScrollPos;let s="none";const{scrollHeight:l,clientHeight:c}=document.documentElement||{};if(!Number.isNaN(l)&&!Number.isNaN(c))if(i<0){const e=window.scrollMinY||0;s=o<=Math.abs(e+Math.max(i,a))?"start":"none"}else{s=o>=(window.scrollMaxY||l-c)-Math.max(i,a)?"end":"none"}const d=t?0:55;if(e)if(i>a&&r&&o>=500){e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n&&n(!1))}else(i<-a&&!r||o<=d)&&(this.updateHiddenState(!0),n&&n(!0));else(i<-a||"start"===s)&&r||o<=d?(this.updateHiddenState(!1),n&&n(!1)):(i>a||"end"===s)&&!r&&(this.updateHiddenState(!0),n&&n(!0));this.lastScrollPos=o}),30))}componentDidMount(){try{this.props.hideOnScroll&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll?window.addEventListener("scroll",this.handleScroll):e.hideOnScroll&&!this.props.hideOnScroll&&window.removeEventListener("scroll",this.handleScroll)}render(){const{children:e}=this.props,{isHidden:t}=this.state;return e({isHidden:t,updateHiddenState:this.updateHiddenState})}}},542554:(e,t,n)=>{n.r(t),n.d(t,{AMPPageContainer:()=>c,default:()=>d});var r=n(883119),o=n(134879),i=n(444445),a=n(780280),s=n(995081),l=n(785893);const c=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:c=!0,useViewport:d=!1,showKeychainError:u=!1})=>{const p=(0,a.B)(),_=(0,s.jd)(p.userAgent.platform)?s.Vf:0;return(0,l.jsx)(r.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:d?`calc(100vh - ${_}px)`:void 0,paddingX:c?i.D6:void 0,paddingY:n||u?void 0:3,children:(0,l.jsx)(o.C,{value:!!c,children:e})})},d=c},620707:(e,t,n)=>{function r(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>e[n]===t[n]))}return e===t}n.d(t,{Ak:()=>r,_Y:()=>o,qe:()=>s,xZ:()=>a});const o=(e,t)=>e.length===t.length&&e.every(((e,n)=>r(e,t[n]))),i=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),a=(e,t=i)=>n=>{const r=[];return function(...o){const i=this,a=r.find((e=>e.context===i&&t(e.args,o)));if(a)return a.result;const s={context:i,args:o,result:n.apply(this,o)};return r.push(s),e&&r.length>e&&r.shift(),s.result}},s=a(1);a()},780280:(e,t,n)=>{n.d(t,{B:()=>d,LC:()=>l,P2:()=>s,fH:()=>c,gf:()=>u});var r=n(667294),o=n(620707),i=n(785893);const a=(0,r.createContext)();function s({children:e,value:t}){const[n,s]=(0,r.useState)(t),l=(0,r.useMemo)((()=>({requestContext:n,updateRequestContext:e=>{const t={...n,...e};(0,o.Ak)(n,e)||s(t)}})),[n]);return(0,i.jsx)(a.Provider,{value:l,children:e})}const l=({children:e})=>{const t=(0,r.useContext)(a);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},c=({children:e})=>{const t=(0,r.useContext)(a);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function d(){const e=(0,r.useContext)(a);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function u(){const e=(0,r.useContext)(a);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},985913:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(858142);const o=/\{\{\s*(\w+)\s*\}\}/g,i=(e,t)=>(0,r.Z)(o,e,t)},858791:(e,t,n)=>{n.d(t,{Z:()=>r});const r=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},858142:(e,t,n)=>{n.d(t,{Z:()=>r});const r=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},66699:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(985913),o=n(858791);const i=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,o.Z)(t[e].toString()):""})),(0,r.Z)(e,n)}},948618:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(883119),o=n(785893);function i({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(r.xv,{color:t,inline:!0,size:null!=n?n:"200",children:"·"})})}},50286:(e,t,n)=>{n.d(t,{HG:()=>l,Mm:()=>o,Wb:()=>s,ZP:()=>c,ml:()=>a});var r=n(780280);function o(e){const{isMobile:t,isTablet:n}=e.userAgent;return n?"tablet":t?"phone":"desktop"}const i=()=>o((0,r.B)()),a=()=>"phone"===i(),s=()=>"tablet"===i(),l=()=>"desktop"===i(),c=i},829407:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(667294);const o=e=>{(0,r.useEffect)(e,[])}},411465:(e,t,n)=>{n.d(t,{G:()=>s,Z:()=>l});var r=n(667294),o=n(925927),i=n(785893);const a=(0,r.createContext)(!0);function s({children:e}){const t=(0,o.TH)(),[n,s]=(0,r.useState)(!0),l=(0,r.useRef)(t);return(0,r.useEffect)((()=>{l.current!==t&&(l.current=t,s(!1))}),[t]),(0,i.jsx)(a.Provider,{value:n,children:e})}function l(){return(0,r.useContext)(a)}},19121:(e,t,n)=>{n.d(t,{$:()=>o,Z:()=>a});var r=n(425288);const{Provider:o,useHook:i}=(0,r.Z)("viewer"),a=i},52395:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(883119),o=n(785893);function i({text:e}){return(0,o.jsx)(r.xu,{display:"visuallyHidden",children:(0,o.jsx)(r.X6,{accessibilityLevel:1,children:e})})}},527885:(e,t,n)=>{n.d(t,{O:()=>s,Q:()=>l});var r=n(848900),o=n(414327),i=n(875495);const a=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:r},o)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:r,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...o?{orbac_subject_id:o}:Object.freeze({})})},l=e=>a.reduce(((t,n)=>{const a=[(0,i.N8)("profileBoards",(0,r.Z)(e,n))];return[!0,!1].forEach((t=>{[!0,!1].forEach((r=>{a.push((0,o.jB)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:r})))}))})),t.concat(a)}),[])},223123:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(966338),o=n(6637),i=n(332611),a=n(886858),s=n(379725),l=n(414327),c=n(782677);function d(){const e=(0,r.useDispatch)(),t=(0,r.useSelector)((e=>e.resources));return async function({boardCreateOptions:n,deprecatedSchemaForNormalization:r}){var d,u;const p=await o.ZP.create("BoardResource",n).callCreate(),_=null===(d=p.resource_response)||void 0===d?void 0:d.data,h=r?(0,c.Fv)(_,r):void 0;e((0,l.XM)("BoardResource",n,p,h)),e((0,i.fO)({event_type:20})),null!==(u=_.owner)&&void 0!==u&&u.id&&e((0,s.bi)("UserResource",{options:{user_id:_.owner.id,field_set_key:"save_behavior"}}));const m=t.BoardsResource||{},f=t.BoardsFeedResource||{};return Object.keys(m).forEach((t=>{var n;(0,a.k)(t).username===(null===(n=_.owner)||void 0===n?void 0:n.username)&&e((0,l.jB)("BoardsResource",t))})),Object.keys(f).forEach((t=>{var n;(0,a.k)(t).username===(null===(n=_.owner)||void 0===n?void 0:n.username)&&e((0,l.jB)("BoardsFeedResource",t))})),_}}},935409:(e,t,n)=>{n.d(t,{Br:()=>c,K8:()=>m,Q_:()=>y,Tq:()=>_,YV:()=>x,eo:()=>u,gi:()=>v,md:()=>d,oG:()=>p,of:()=>f,xH:()=>h,xQ:()=>b,xk:()=>g,yT:()=>l});var r=n(6637),o=n(778821),i=n(379725),a=n(875495),s=n(527885);function l(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function c(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function d(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function u({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:r}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:r}}}const p=(e,t)=>n=>n((0,i.U2)("BoardResource",{options:{board_id:e,field_set_key:t}}));function _(e,t){return(0,i.U2)("BoardResource",{options:{board_id:e,field_set_key:t}})}function h(e,t,n){return i=>r.ZP.create("BoardsMergeResource",{source_board_id:e,target_board_id:t,...n?{orbac_subject_id:n}:{}}).callUpdate().then((()=>Promise.all([i(u({boardId:e})),i(_(t,"pin_count")),i((0,a.N8)(o.DV.BOARD_SECTIONS,t))])))}function m(e){return t=>{e&&(0,s.Q)(e).forEach((e=>{t(e)}))}}const f=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),b=e=>p(e,"pin_count");function y(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function g(e,t){return n=>(n(y(e)),r.ZP.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function v(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function x(e,t){return n=>(n(v(e)),r.ZP.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}},162158:(e,t,n)=>{n.d(t,{V:()=>a,u:()=>i});var r=n(6637),o=n(935409);const i=e=>t=>{const n={board_id:e};return r.ZP.create("BoardResource",n).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,o.yT)(n)),e}))};function a(e,t,n){return(i,a)=>{const{boards:s}=a(),l=s[e],c=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},d={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,name:t.name,privacy:t.privacy,sensitivity:t.sensitivity||null,...n?{orbac_subject_id:n}:Object.freeze({}),...c};return i((0,o.yT)({...d,id:e})),r.ZP.create("BoardResource",{...d,board_id:e}).callUpdate().then((e=>{const n=e&&e.resource_response&&e.resource_response.data||t;return i((0,o.yT)(n)),e})).catch((e=>{throw l&&i((0,o.yT)(l)),e}))}}},875495:(e,t,n)=>{function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function o(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>a,N8:()=>o,Qv:()=>i,_f:()=>r,vX:()=>s});const i=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function s(e){return{type:"FEED_ITEMS_ADDED",payload:e}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/37015-244255139530b507.mjs.map